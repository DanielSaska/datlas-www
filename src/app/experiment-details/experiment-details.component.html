<div style="text-align:center">
	<h1>
		Experiment #{{experiment_name}}
	</h1>
	<mat-tab-group>
		<mat-tab label="Overview">
			<mat-card>
				<mat-card-header class="overview-header">
					<div mat-card-avatar class="overview-image"></div>
					<mat-card-title>Experiment Details</mat-card-title>
					<mat-card-subtitle>Overview</mat-card-subtitle>
				</mat-card-header>
			<mat-card-content>
					<div fxFlexFill fxLayout="row wrap" fxLayoutGap="20px" fxLayoutAlign="space-between none" >
						<div fxLayoutAlign="left center" class="desc-entry">
							<mat-icon class="desc-icon">fingerprint</mat-icon>
							<div fxLayout="column">
								<div><b>Name:</b></div>
								<div>{{experiment_name}}</div>
							</div>
						</div>
						<div fxLayoutAlign="left center" class="desc-entry">
							<mat-icon class="desc-icon">attachment</mat-icon>
							<div fxLayout="column">
								<div><b>Number of recordings:</b></div>
								<div>{{count}}</div>
							</div>
						</div>
					</div>
				</mat-card-content>
				<mat-card-actions>
				</mat-card-actions>
			</mat-card>
			<mat-card>
				<mat-card-header class="beh-header">
					<div mat-card-avatar class="beh-image"></div>
					<mat-card-title>Recordings</mat-card-title>
					<mat-card-subtitle></mat-card-subtitle>
				</mat-card-header>
				<mat-card-content>
					<table mat-table [dataSource]="experiment_details?.recordings" fxFill>

						<ng-container matColumnDef="id">
							<th mat-header-cell *matHeaderCellDef> ID </th>
							<td mat-cell *matCellDef="let element">
								<a href="recording/{{element._id}}">{{element.human_id}}</a> 
							</td>
						</ng-container>

						<ng-container matColumnDef="date">
							<th mat-header-cell *matHeaderCellDef> Date </th>
							<td mat-cell *matCellDef="let element">
								<div>{{element.datetime.toDateString()}}</div><div>{{element.datetime.getUTCHours()}}:{{element.datetime.getUTCMinutes()}}:{{element.datetime.getUTCSeconds()}}</div>
							</td>
						</ng-container>

						<ng-container matColumnDef="tags">
							<th mat-header-cell *matHeaderCellDef> Tags </th>
							<td mat-cell *matCellDef="let element">
								<mat-chip-list>
									<mat-chip *ngFor="let tag of element.tags">{{tag}}</mat-chip>
								</mat-chip-list>
							</td>
						</ng-container>

						<ng-container matColumnDef="duration">
							<th mat-header-cell *matHeaderCellDef> Duration </th>
							<td mat-cell *matCellDef="let element">
								{{element.duration}}s
							</td>
						</ng-container>

						<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
						<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
					</table>

				</mat-card-content>
			</mat-card>
		</mat-tab>
		<mat-tab label="Analysis">
			<mat-card *ngFor="let addon of analysis_addons">
				<mat-card-header class="beh-header">
					<div mat-card-avatar class="beh-image"></div>
					<mat-card-title>{{addon.title}}</mat-card-title>
					<mat-card-subtitle>{{addon.subtitle}}</mat-card-subtitle>
				</mat-card-header>
				<mat-card-content>
					<div *ngIf="addon.plot" mat-card-image ><plotly-plot [data]="addon.plot.data" [layout]="addon.plot.layout" class="addon_plot" [useResizeHandler]="true"></plotly-plot></div>
					<div [innerHTML]="addon.html"></div>
				</mat-card-content>
			</mat-card>
		</mat-tab>
	</mat-tab-group>


